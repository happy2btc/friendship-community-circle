<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8" />
  <title>Community Discussion</title>
  <style>
    body {
      font-family: sans-serif;
      background-color: #fdf6e3;
      padding: 2rem;
    }
    .container {
      max-width: 600px;
      margin: auto;
      background-color: #fff;
      padding: 2rem;
      border-radius: 12px;
      box-shadow: 0 0 10px rgba(0,0,0,0.1);
    }
    .return-button {
      margin-bottom: 1rem;
      display: inline-block;
      text-decoration: none;
      font-weight: bold;
      color: #333;
    }
    .return-button:hover {
      text-decoration: underline;
    }
  </style>
</head>
<body>
  <div class="container">
    <a href="menu.html" class="return-button">‚Üê Return to Menu</a>

    <h1 id="suggestionTitle">Loading...</h1>
    <p id="suggestionDescription"></p>

    <h3>üå± Add Your Thoughts</h3>
    <textarea rows="4" cols="50" placeholder="Share your reflection or response..."></textarea>
    <br><br>
    <button>Submit Reflection</button>

    <h3>‚úÖ Ready to Propose an Agreement?</h3>
    <p>If this discussion feels ready to become a shared commitment, you may propose it as an agreement.</p>
    <button>Propose Agreement</button>
  </div>

  <script>
    const urlParams = new URLSearchParams(window.location.search);
    const suggestionId = urlParams.get("suggestion");

    if (suggestionId) {
      fetch("suggestions.json")
        .then(response => response.json())
        .then(data => {
          const suggestion = data.find(s => s.id === suggestionId);
          if (suggestion) {
            document.getElementById("suggestionTitle").textContent = suggestion.title;
            document.getElementById("suggestionDescription").textContent = suggestion.suggestion;
          } else {
            document.getElementById("suggestionTitle").textContent = "Suggestion not found.";
            document.getElementById("suggestionDescription").textContent = "";
          }
        })
        .catch(error => {
          document.getElementById("suggestionTitle").textContent = "Error loading suggestion.";
          document.getElementById("suggestionDescription").textContent = "";
          console.error("Error:", error);
        });
    } else {
      document.getElementById("suggestionTitle").textContent = "No suggestion selected.";
      document.getElementById("suggestionDescription").textContent = "";
    }
  </script>
</body>
</html>
