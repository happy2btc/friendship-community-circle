import"./modulepreload-polyfill-B5Qt9EMX.js";import{s as l}from"./supabase-vDZkBp_j.js";function i(){const t=new URLSearchParams(window.location.search).get("category");if(t){const r=document.getElementById("help-category"),n={forms:"Form Completion & Filing",applications:"Applications & Registrations",documents:"Document Preparation",technical:"Technical Support",administrative:"Administrative Processes",guidance:"Guidance & Advice",translation:"Translation Services",general:"General Support"}[t]||t;r.value=n;const a=r.closest(".form-group"),o=document.createElement("p");o.style.color="#2e8b57",o.style.fontSize="0.9em",o.style.marginTop="0.5rem",o.innerHTML="ğŸ’¡ Category pre-selected from Help Categories page",a.appendChild(o)}}document.querySelectorAll(".urgency-option").forEach(s=>{s.addEventListener("click",function(){document.querySelectorAll(".urgency-option").forEach(t=>t.classList.remove("selected")),this.classList.add("selected"),document.getElementById("urgency").value=this.dataset.value})});document.addEventListener("DOMContentLoaded",function(){i()});document.getElementById("help-request-form").addEventListener("submit",async function(s){s.preventDefault();const t=document.getElementById("submit-btn"),r=document.getElementById("status-message");t.disabled=!0,t.textContent="Submitting...";try{const e=new FormData(this),n={requester_name:e.get("requester_name"),requester_email:e.get("requester_email"),help_category:e.get("help_category"),help_title:e.get("help_title"),urgency:e.get("urgency"),help_description:e.get("help_description"),preferred_contact:e.get("preferred_contact"),additional_info:e.get("additional_info"),status:"open",created_at:new Date().toISOString()},{data:a,error:o}=await l.from("help_requests").insert([n]);if(o)throw o;r.className="status-message success",r.textContent="âœ… Your help request has been submitted successfully! Community helpers will reach out to you soon.",r.style.display="block",this.reset(),document.querySelectorAll(".urgency-option").forEach(c=>c.classList.remove("selected")),document.getElementById("urgency").value="",r.scrollIntoView({behavior:"smooth",block:"center"})}catch(e){console.error("Error submitting help request:",e),r.className="status-message error",r.textContent=`âŒ Error submitting request: ${e.message}`,r.style.display="block"}finally{t.disabled=!1,t.textContent="ğŸš€ Submit Help Request"}});
