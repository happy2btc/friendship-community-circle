import"./modulepreload-polyfill-B5Qt9EMX.js";import{s as n}from"./supabase-vDZkBp_j.js";const e=document.getElementById("affirm-button"),a=document.getElementById("status");let r;async function i(){const{data:{user:t}}=await n.auth.getUser();t||(window.location.href="index.html"),r=t}e.addEventListener("click",async()=>{e.disabled=!0,a.textContent="Recording your affirmation...";const t=new Date().toISOString(),{error:o}=await n.from("profiles").update({affirmation_text:t,affirmation_date:t}).eq("id",r.id);o?(a.textContent=`Error: ${o.message}`,a.style.color="red",e.disabled=!1):window.location.href="welcome.html"});i();
