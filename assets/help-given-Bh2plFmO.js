import"./modulepreload-polyfill-B5Qt9EMX.js";import{s as o}from"./supabase-vDZkBp_j.js";async function m(){const{data:p}=await o.from("profiles").select("id, full_name"),n={};p?.forEach(e=>{n[e.id]=e.full_name}),n.community="The Friendship Community Circle";const{data:a,error:s}=await o.from("help_given").select("*").order("created_at",{ascending:!1});if(s){document.getElementById("help-list").innerHTML=`<p style="color:red;">Error loading help records: ${s.message}</p>`;return}if(!a||a.length===0){document.getElementById("help-list").innerHTML="<p>No help given yet.</p>";return}const i=a.map((e,t)=>({...e,helperName:n[e.helper_id]||"Unknown",recipientName:n[e.recipient_id]||"Unknown",idx:t}));i.sort((e,t)=>e.helperName.localeCompare(t.helperName,void 0,{sensitivity:"base"}));let r="";i.forEach((e,t)=>{r+=`<div class="help-item" id="helper-${t}">
          <span class="helper">${e.helperName}</span> helped <span class="helper">${e.recipientName}</span>
          <div class="help-details">${e.details||""}</div>
          <div class="help-date">${new Date(e.created_at).toLocaleString()}</div>
        </div>`}),document.getElementById("help-list").innerHTML=r,setTimeout(()=>{const e=document.getElementById("search-helper");e.oninput=function(){const t=e.value.trim().toLowerCase();t&&i.forEach((c,d)=>{if(c.helperName.toLowerCase().startsWith(t)){const l=document.getElementById(`helper-${d}`);return l&&(l.scrollIntoView({behavior:"smooth",block:"center"}),l.style.background="#fffae6",setTimeout(()=>{l.style.background=""},1200)),!1}})}},0)}m();
