<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Circle Discussions</title>
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      background-color: #f9f9f9;
      color: #333;
      padding: 2rem;
      padding-bottom: 100px;
      position: relative;
    }

    /* background image removed */

    .discussion-container, h1, .floating-controls {
      position: relative;
      z-index: 1;
    }
    h1 { text-align: center; color: #4a7c59; }
    h1 {
      text-align: center;
      color: #181818;
      font-weight: 800;
      text-shadow: 0 1px 4px #fff8, 0 0px 1px #fff8;
    }
    .discussion-container { display: flex; flex-direction: column; gap: 1rem; }
    details.discussion-block { background: #fff; border: 1px solid #ddd; border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.05); }
    details.discussion-block summary { padding: 1.5rem; font-size: 1.2em; font-weight: bold; cursor: pointer; list-style: none; }
    details.discussion-block summary {
      padding: 1.5rem;
      font-size: 1.2em;
      font-weight: bold;
      cursor: pointer;
      list-style: none;
      color: #181818;
      text-shadow: 0 1px 4px #fff8, 0 0px 1px #fff8;
    }
    details.discussion-block summary::-webkit-details-marker { display: none; }
    details.discussion-block summary::before { content: '▶ '; font-size: 0.8em; }
    details[open].discussion-block > summary::before { content: '▼ '; }
    .summary-meta { font-size: 0.8em; font-weight: normal; color: #666; margin-left: 1rem; }
    .discussion-content { padding: 0 1.5rem 1.5rem 1.5rem; }
    .discussion-content {
      padding: 0 1.5rem 1.5rem 1.5rem;
      color: #181818;
      font-weight: 600;
      text-shadow: 0 1px 4px #fff8, 0 0px 1px #fff8;
    }
    .comment-thread { margin-top: 1rem; padding-left: 20px; }
    .comment { border-left: 2px solid #eee; padding-left: 20px; margin-top: 1rem; position: relative; }
    .comment-meta { font-size: 0.85em; color: #888; margin-bottom: 4px; }
    .comment-meta {
      font-size: 0.85em;
      color: #181818;
      font-weight: 600;
      text-shadow: 0 1px 4px #fff8, 0 0px 1px #fff8;
      margin-bottom: 4px;
    }
    .comment {
      border-left: 2px solid #eee;
      padding-left: 20px;
      margin-top: 1rem;
      position: relative;
      color: #181818;
      font-weight: 600;
      text-shadow: 0 1px 4px #fff8, 0 0px 1px #fff8;
    }
    .comment-box { margin-top: 10px; padding: 10px; background-color: #f8f8f8; border-radius: 6px; }
    .comment-box {
      display: flex;
      flex-direction: column;
      align-items: flex-start;
    }
    .comment-box textarea {
      margin-bottom: 8px;
    }
    .comment-box textarea, .agreement-box textarea, .agreement-box input { font-size: 1.1em !important; }
    textarea { width: 95%; padding: 8px; border: 1px solid #ccc; border-radius: 4px; }
    .action-button { background-color: #4a7c59; color: white; border: none; padding: 8px 12px; margin-top: 5px; cursor: pointer; border-radius: 4px; font-size: 0.9em; }
    .reply-button { background-color: #6c757d; font-size: 0.8em; padding: 4px 8px; }
    .agreement-box { margin-top: 2rem; padding: 1rem; background-color: #eef6f0; border-radius: 6px; }
    .floating-controls {
      position: fixed;
      bottom: 20px;
      right: 20px;
      z-index: 1000;
      background-color: rgba(255, 255, 255, 0.9);
      padding: 10px;
      border-radius: 8px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.15);
      display: flex;
      gap: 10px;
    }
    .floating-controls button, .floating-controls a {
      background-color: #6b4f1d;
      color: #fff;
      padding: 10px 15px;
      border-radius: 6px;
      text-decoration: none;
      font-weight: bold;
      border: none;
      cursor: pointer;
    }
    .delete-icon {
      position: absolute;
      top: 8px;
      right: 8px;
      background: none;
      border: none;
      cursor: pointer;
      color: #dc3545;
      font-size: 1.2em;
      padding: 0;
    }
    .delete-icon:hover {
      color: #a71d2a;
    }
    .author-instruction {
      background: #fffbe6;
      border: 1px solid #ffe58f;
      padding: 10px;
      margin-bottom: 10px;
      border-radius: 5px;
      color: #856404;
    }
    .error-message {
      color: #a94442;
      background: #fff0f0;
      border: 1px solid #a94442;
      padding: 10px;
      margin-bottom: 10px;
      border-radius: 5px;
      font-weight: bold;
      text-align: center;
    }
  </style>
  <script type="module" crossorigin src="/friendship-community-circle/assets/discussions-6daQ9SbH.js"></script>
  <link rel="modulepreload" crossorigin href="/friendship-community-circle/assets/modulepreload-polyfill-B5Qt9EMX.js">
  <link rel="modulepreload" crossorigin href="/friendship-community-circle/assets/supabase-vDZkBp_j.js">
</head>
<body>
  <h1>Circle of Discussion</h1>
  <label for="circle-filter" style="font-weight:bold;">Filter by Circle:</label>
  <select id="circle-filter" style="margin-bottom:1em;"></select>
  <div class="help-text" style="max-width:600px;margin:2em auto 1em auto;padding:1em;background:#fffbe6;border:1px solid #ffe58f;border-radius:8px;color:#7c5c00;font-size:1.05em;">
    <strong>Tip:</strong> If you are looking for a discussion from a specific circle (such as Universal Basic Income), use the "Circles" drop-down menu above to select the relevant circle. The page will reload and show only discussions for that circle—including the one you’re looking for.
  </div>
  <div id="discussion-container"></div>
  <div id="error-message" class="error-message" style="display:none;"></div>
  <div class="floating-controls">
    <button id="expand-all">Expand All</button>
    <button id="collapse-all">Collapse All</button>
  <a href="main-menu.html" class="menu-button">Return to Menu</a>
  </div>
</body>
</html>